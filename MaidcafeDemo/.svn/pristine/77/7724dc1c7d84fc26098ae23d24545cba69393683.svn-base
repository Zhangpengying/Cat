using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class MonoBase : MonoBehaviour
{
    
    //发送消息
    public static void SendCustomerMessage(byte type, int command, object content)
    {
        MessageCenter.SendMessage(type, command, content);
    }
    public static void SendCustomerMessage(Message msg)
    { 
        MessageCenter.SendMessage(msg);
    }

    //接收消息
    public virtual void ReciveMessage(Message msg){}

    public void IsArrive(bool isArrive,string msginfor,Player player)
    {
        if (isArrive)
        {
            //显示提示符
            if (GameObject.Find("Environment/Events/Tips")== null)
            {
                GameObject.Find("UI").GetComponent<GlobalVariable>().ActiveTips();
            }

            if (Input.GetKeyDown(KeyCode.C))
            {
                WindowManager.instance.Close<TipsWnd>();
                //进入互动
                if (!player.IsLockPlayer)
                {
                    StaticVar.MessageSendToFungus(msginfor, player);
                }
            }
        }
        else
        {
            //显示提示符
            if (GameObject.Find("Environment/Events/Tips") != null)
            {
                Destroy(GameObject.Find("Environment/Events/Tips"));
            }
        }
    }
}
