using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class TriggerCat : MonoBase
{
    // Use this for initialization
    void Start()
    {
        EventManager.instance.RegisterReceiver(this);
        //注册事件
        StaticVar.AddEvents(gameObject);
    }
    public override void ReciveMessage(Message msg)
    {
        base.ReciveMessage(msg);
        if (msg.Command == MyMessageType.Event_Cat)
        {
            GameObject cat = transform.parent.GetChild(1).gameObject;
            cat.GetComponent<Animator>().SetBool("IsJump",true);
            Player player = msg.Content as Player;
            
            player._ani.SetBool("IsWalk", false);
            StaticVar.MessageSendToFungus("Cat",player);
            MessageSend.instance.Events[gameObject.name] = false;
            gameObject.SetActive(false);
        }
    }

}
