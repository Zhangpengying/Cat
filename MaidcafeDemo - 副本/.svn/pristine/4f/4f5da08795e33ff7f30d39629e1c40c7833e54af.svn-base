using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using System;

public class Talk1 : MonoBase
{
    
    // Use this for initialization
    void Start()
    {
        EventManager.instance.RegisterReceiver(this);
        //注册事件
        StaticVar.AddEvents(gameObject);
    }
   
    
    public override void ReciveMessage(Message msg)
    {
        base.ReciveMessage(msg);
        
        if (msg.Command == MyMessageType.Event_Talk1)
        {
            Player player = msg.Content as Player;
            if (player._stateType == ActorStateType.Player_Date)
            {
                if (MessageSend.instance.Events.ContainsKey(gameObject.name))
                {
                    player._ani.SetBool("IsWalk", false);
                    StaticVar.MessageSendToFungus("New Block1",player);
                    MessageSend.instance.Events[gameObject.name] = false;
                    gameObject.SetActive(false);
                }
            }
           
        }
    }

   
}
